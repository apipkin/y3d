YUI.add("y3d-geometry-base",function(e,t){var n=e.Lang;e.Geometry=e.Base.create("geometry",e.Base,[],{move:function(t,n,r){var i=this,s=i.get("matrix");e.WebGLMatrix.mat4.translate(s,[t,n,r])},moveX:function(e){var t=this;t.move(e,0,0)},moveY:function(e){var t=this;t.move(0,e,0)},moveZ:function(e){var t=this;t.move(0,0,e)},rotate:function(t,n){var r=this,i=r.get("matrix"),s=0,o=0,u=0;t.indexOf("x")!==-1&&(s=1),t.indexOf("y")!==-1&&(o=1),t.indexOf("z")!==-1&&(u=1),e.WebGLMatrix.mat4.rotate(i,n*(Math.PI/180),[s,o,u])},rotateX:function(e){var t=this;t.rotate("x",e)},rotateY:function(e){var t=this;t.rotate("y",e)},rotateZ:function(e){var t=this;t.rotate("z",e)},_generateId:function(){return Math.floor(Math.random()*16777215).toString(16)},_setColor:function(t){var r=this,i=r.get("vertices").length/3,s=[],o;n.isArray(t)&&t.length===3?t.push(1):n.isString(t)&&(t=e.Color.normalizedColorArray(t));for(o=0;o<i;o++)s=s.concat(t);return s},_setTexture:function(t){return n.isString(t)&&(t=new e.Texture({imageUrl:t})),t},_setXYZ:function(t){var n=this,r=e.WebGLMatrix.mat4.create(),i=n.get("x"),s=n.get("y"),o=n.get("z");return e.WebGLMatrix.mat4.identity(r),n.set("matrix",r),t===null&&(t=[i,s,o]),n.move(t[0],t[1],t[2]),t}},{ATTRS:{color:{value:"white",setter:"_setColor",validator:function(e){return n.isArray(e)||n.isString(e)}},id:{writeOnce:!0,valueFn:"_generateId"},indices:{value:[],validator:n.isArray},matrix:{value:null},normals:{value:[],validator:n.isArray},texture:{value:null,setter:"_setTexture"},textureCoordinates:{value:[],validator:n.isArray},vertices:{value:[],validator:n.isArray},x:{value:0},y:{value:0},z:{value:0},xyz:{lazyAdd:!1,setter:"_setXYZ",value:null,validator:n.isArray}}})},"0.1",{requires:["base-build","y3d-texture","y3d-matrix"]});
