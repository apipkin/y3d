YUI.add("y3d-camera",function(e,t){var n=e.Lang;e.Camera=e.Base.create("camera",e.Base,[],{initializer:function(){var t=this;e.on("keypress",e.bind(t._onKeyPress,t)),e.on("mousewheel",e.bind(t._onMouseWheel,t))},getMatrix:function(){var t=this,n=t.get("matrix"),r=e.WebGLMatrix.mat4.create();return e.WebGLMatrix.mat4.set(n,r),e.WebGLMatrix.mat4.inverse(r),r},move:function(t,n,r){var i=this,s=i.get("matrix");e.WebGLMatrix.mat4.translate(s,[t,n,r])},moveX:function(e){var t=this;t.move(e,0,0)},moveY:function(e){var t=this;t.move(0,e,0)},moveZ:function(e){var t=this;t.move(0,0,e)},_onKeyPress:function(e){var t=this,n=t.get("controls.keys"),r=n.distance;switch(e.keyCode){case n.up:t.moveY(r);break;case n.right:t.moveX(r);break;case n.down:t.moveY(-r);break;case n.left:t.moveX(-r)}},_onMouseWheel:function(e){var t=this,n=t.get("controls.mouseWheelDistance");t.moveZ(-e.wheelDelta*n)},_setXYZ:function(t){var n=this,r=e.WebGLMatrix.mat4.create(),i=n.get("x"),s=n.get("y"),o=n.get("z");return e.WebGLMatrix.mat4.identity(r),n.set("matrix",r),t===null&&(t=[i,s,o]),n.move(t[0],t[1],t[2]),t}},{ATTRS:{controls:{value:{keys:{up:119,right:100,down:115,left:97,distance:.3},mouseWheelDistance:.1}},x:{value:0},y:{value:0},z:{value:0},xyz:{lazyAdd:!1,setter:"_setXYZ",value:null,validator:n.isArray}}})},"0.1",{requires:["base-build","event-key","event-mousewheel","y3d-matrix"]});
