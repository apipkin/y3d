YUI.add("y3d-camera",function(e,t){var n=e.Lang;e.Camera=e.Base.create("camera",e.Base,[],{initializer:function(){var t=this;e.on("keypress",e.bind(t._onKeyPress,t)),e.on("mousewheel",e.bind(t._onMouseWheel,t))},getMatrix:function(){var t=this,n=t.get("matrix"),r=e.WebGLMatrix.mat4.create();return e.WebGLMatrix.mat4.set(n,r),e.WebGLMatrix.mat4.inverse(r),r},move:function(t,n){var r=this,i=r.get("matrix"),s=0,o=0,u=0;t.indexOf("x")!==-1&&(s=n),t.indexOf("y")!==-1&&(o=n),t.indexOf("z")!==-1&&(u=n),e.WebGLMatrix.mat4.translate(i,[s,o,u])},_onKeyPress:function(e){var t=this,n=t.get("controls.keys"),r=n.distance;switch(e.keyCode){case n.up:t.move("y",r);break;case n.right:t.move("x",r);break;case n.down:t.move("y",-r);break;case n.left:t.move("x",-r)}},_onMouseWheel:function(e){var t=this,n=t.get("controls.mouseWheelDistance");t.move("z",-e.wheelDelta*n)},_setXYZ:function(t){var n=this,r=e.WebGLMatrix.mat4.create(),i=n.get("x"),s=n.get("y"),o=n.get("z");return e.WebGLMatrix.mat4.identity(r),n.set("matrix",r),t===null&&(t=[i,s,o]),n.move("x",t[0]),n.move("y",t[1]),n.move("z",t[2]),t}},{ATTRS:{controls:{value:{keys:{up:119,right:100,down:115,left:97,distance:.3},mouseWheelDistance:.1}},x:{value:0},y:{value:0},z:{value:0},xyz:{lazyAdd:!1,setter:"_setXYZ",value:null,validator:n.isArray}}})},"0.1",{requires:["base-build","event-key","event-mousewheel","y3d-matrix"]});
