YUI.add("y3d-loader",function(e,t){var n=e.Lang;e.Loader=e.Base.create("loader",e.Base,[],{load:function(){var e=this,t=e.get("geometry"),n=t.get("vertices"),r=t.get("normals"),i=e.get("src"),s=i.split("\n"),o,u,a;for(o=0;o<s.length;o++)u=s[o].trim(),a=u.split(/\s+/),u.indexOf("v ")===0?e._parseVertice(t,a):u.indexOf("f ")===0&&e._parseFace(t,a);for(o=0;o<n.length/3;o++)r.push(0,1,0);return t.set("color","blue"),t},_parseFace:function(e,t){var n=this,r=e.get("indices"),i=n._parseIndex(t[1]),s=n._parseIndex(t[2]),o=n._parseIndex(t[3]),u;t.length===4?r.push(i,s,o):t.length===5&&(u=n._parseIndex(t[4]),r.push(i,s,o,i,o,u))},_parseIndex:function(e){var t=e.split(/\//)[0];return t=parseInt(t,10)-1,t},_parseVertice:function(e,t){var n=e.get("vertices"),r=parseFloat(t[1],10),i=parseFloat(t[2],10),s=parseFloat(t[3],10);n.push(r,i,s)}},{ATTRS:{geometry:{value:new e.Geometry},src:{value:"",validator:n.isString}}})},"0.1",{requires:["y3d-geometry-base"]});
