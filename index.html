<html>
<head>
	<title>yui webgl module</title>

	<script src="lib/yui/build/yui/yui.js"></script>
	<script src="lib/glMatrix-0.9.5.min.js"></script>
</head>
<body>
	<div id='container'></div>

	<script>
		YUI({
			groups: {
				'webgl': {
					base: 'src/',
					modules: {
						'webgl-color': {
							path: 'webgl-color/webgl-color.js',
							requires: ['color']
						},

						'webgl-geometry': {
							path: 'webgl-geometry/webgl-geometry.js',
							requires: ['base-build', 'webgl-texture']
						},

						'webgl-light': {
							path: 'webgl-light/webgl-light.js',
							requires: ['base-build', 'webgl-color']
						},

						'webgl-scene': {
							path: 'webgl-scene/webgl-scene.js',
							requires: ['base-build', 'node-base', 'webgl-color', 'webgl-shader']
						},

						'webgl-shader': {
							path: 'webgl-shader/webgl-shader.js'
						},

						'webgl-texture': {
							path: 'webgl-texture/webgl-texture.js',
							requires: ['base-build']
						}
					}
				}
			}	
		}).use('webgl-geometry', 'webgl-light', 'webgl-scene', 'webgl-texture', function(Y) {
			var scene = new Y.Scene();

			scene.addLight(new Y.Light());

			var cube = new Y.Cube();

			cube.set('color', 'teal');
			cube.translate(3.0, 0.0, -20.0);
			cube.rotate(1, 1, 0, 45);

			scene.addGeometry(cube);

			var cube2 = new Y.Cube();

			cube2.translate(-3.0, 0.0, -20.0);
			cube2.rotate(1, 1, 0, 45);

			cube2.set('texture', 'images/grass.png');

			new Y.TextureLoader({
				onLoad: function() {
					scene.render();
				},

				textures: [cube2.get('texture')]
			});

			scene.addGeometry(cube2);
		});
	</script>	
</body>
</html>