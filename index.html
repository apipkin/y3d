<html>
<head>
	<title>yui webgl module</title>

	<script src="lib/yui-min.js"></script>
	<script src="lib/glMatrix-0.9.5.min.js"></script>

	<script id="fragment-shader" type="x-shader/x-fragment">
		precision mediump float;

		varying vec4 fragmentColor;

		void main(void) {
			gl_FragColor = fragmentColor;
		}
	</script>

	<script id="vertex-shader" type="x-shader/x-vertex">
		attribute vec3 vertexPosition;
		attribute vec4 vertexColor;

		uniform mat4 projectionMatrix;
		uniform mat4 modelViewMatrix;

		varying vec4 fragmentColor;

		void main(void) {
			gl_Position = projectionMatrix * modelViewMatrix * vec4(vertexPosition, 1.0);
			fragmentColor = vertexColor;
		}
	</script>
</head>
<body>
	<div id='container'></div>

	<script>
		YUI({
			groups: {
				'webgl': {
					base: 'src/',
					modules: {
						'webgl-scene': {
							path: 'webgl-scene/webgl-scene.js',
							requires: ['base-build', 'node-base', 'webgl-shader']
						},

						'webgl-shader': {
							path: 'webgl-shader/webgl-shader.js',
							requires: ['node-base']
						},

						'webgl-shape': {
							path: 'webgl-shape/webgl-shape.js',
							requires: ['base-build']
						}
					}
				}
			}	
		}).use('webgl-scene', 'webgl-shape', function(Y) {
			var scene = new Y.Scene();

			var cube = new Y.Cube();

			cube.set('color', [200, 110, 40]);

			cube.translate(-3.0, 0.0, -20.0);
			cube.rotate(1, 1, 0, 45);

			scene.addShape(cube);

			var cube2 = new Y.Cube();

			cube2.set('color', [100, 110, 40]);

			cube2.translate(3.0, 0.0, -20.0);
			cube2.rotate(1, 1, 0, 45);

			scene.addShape(cube2);

			scene.render();
		});
	</script>	
</body>
</html>